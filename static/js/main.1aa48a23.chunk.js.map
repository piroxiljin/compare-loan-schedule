{"version":3,"sources":["logo.svg","ParamPanel.js","PaymentTable.js","OverallInfo.js","PaymentGraph.js","LoanTask.js","RenameLoanDialog.js","AddTab.js","ConfirmDialog.js","TabContentController.js","App.js","loanUtils.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","withStyles","theme","root","flexGrow","paper","height","width","control","padding","spacing","unit","props","react_default","a","createElement","index_es","container","className","classes","item","FormControl_default","InputLabel_default","Input_default","value","baseLoan","type","onChange","onBaseLoanChange","basePeriods","onBasePeriodsChange","baseLoanRate","onBaseLoanRateChange","issueDate","onIssueDateChange","dateFormat","require","moneyFormat","Math","floor","toLocaleString","minimumFractionDigits","currencyCell","fontFamily","textAlign","listItems","payments","map","index","key","toString","Date","periodDate","currentDebt","payment","interest","retirement","overallCol1","overallCol2","moneyTypography","Fragment","baseMounthPayment","interestsOverall","PaymentGraph","dx_react_chart_material_ui_es","data","dx_react_chart_es","name","showGrid","scaleName","showLine","showTicks","position","valueField","argumentField","marginTop","tablePaper","overflowY","loader","justify","src_ParamPanel","isReady","src_PaymentTable","overallPaper","src_OverallInfo","src_PaymentGraph","RenameLoanDialog","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleAccept","onAccept","handleKeyPress","e","handleNameChange","bind","assertThisInitialized","onNameChanged","target","open","onClose","onCancel","aria-labelledby","onKeyPress","id","autoFocus","margin","label","fullWidth","onClick","color","Component","AddTab","Add_default","ConfirmDialog","TabContentController","handleTabChange","event","activePage","pages","setState","renameTabDraft","title","onTabChange","handleRenameTabClick","handleRenameTabCancel","handleRenameTabAccept","handleTabDoubleClick","handleDeleteTabClicked","handleDeleteCancel","handleDeleteAccept","state","renameTab","askDelete","newName","onRenameTab","onDeleteTabClicked","_this2","tabList","pagesIds","pageId","onDoubleClick","direction","tabPanel","src_AddTab","onAddTabClicked","delButtonContainer","Edit_default","Delete_default","src_RenameLoanDialog","src_ConfirmDialog","right","top","App","updateContent","handleBaseLoanChange","handleBasePeriodsChange","handleBaseLoanRateChange","handleIssueDateChange","handleAddLoanTask","handleRemoveLoanTask","handleRenameLoan","restoredPages","JSON","parse","localStorage","getItem","restoredPagesIds","restoredActivePage","console","log","what","undefined","length","renameLoan","activePageId","currentPage","isNaN","newId","chr4","random","slice","uniqueID","push","activeIndex","indexOf","newPagesIds","filter","page","loanDesc","loanParams","currentYearRate","parseFloat","restPeriods","iteration","assert","toDateString","currentYear","getYear","currentMonth","getMonth","currentMounthRateRought","currentTempRateK","pow","currentMounthPayment","currentPaymentNumber","dayOfYears","getDaysInMonth","year","month","getDate","paymentDate","paymentNumber","calculateSchedule","pagesStr","stringify","setItem","idsStr","calcResults","preparePayments","contentIsReady","content","taskContent","src_LoanTask","app","variant","align","src_TabContentController","display","flexFlow","flex","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1aa48a23.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { Grid, withStyles } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    height: 140,\r\n    width: 100,\r\n  },\r\n  control: {\r\n    padding: theme.spacing.unit * 2,\r\n  },\r\n});\r\n\r\nfunction ParamPanel(props) {\r\n    return <Grid container spacing={8} className={props.classes.root}>\r\n      <Grid item>\r\n        <FormControl>\r\n          <InputLabel>Loan amount</InputLabel>\r\n          <Input value={props.baseLoan}\r\n            type=\"number\"\r\n            onChange={props.onBaseLoanChange} />\r\n        </FormControl>\r\n      </Grid>\r\n      <Grid item>\r\n        <FormControl>\r\n          <InputLabel>Loan duration</InputLabel>\r\n          <Input value={props.basePeriods}\r\n            type=\"number\"\r\n            onChange={props.onBasePeriodsChange} />\r\n        </FormControl>\r\n      </Grid>\r\n      <Grid item>\r\n        <FormControl>\r\n          <InputLabel>Loan rate</InputLabel>\r\n          <Input value={props.baseLoanRate}\r\n            type=\"number\"\r\n            onChange={props.onBaseLoanRateChange} />\r\n        </FormControl>\r\n      </Grid>\r\n      <Grid item>\r\n        <FormControl>\r\n          <InputLabel>Issue date</InputLabel>\r\n          <Input value={props.issueDate}\r\n            type=\"date\"\r\n            onChange={props.onIssueDateChange} />\r\n        </FormControl>\r\n      </Grid>\r\n    </Grid>\r\n}\r\n\r\n\r\nexport default withStyles(styles)(ParamPanel)\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Table, TableRow, TableCell, TableHead, TableBody } from '@material-ui/core';\r\n\r\nvar dateFormat = require('dateformat');\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    height: 140,\r\n    width: 100,\r\n  },\r\n  control: {\r\n    padding: theme.spacing.unit * 2,\r\n  },\r\n  currencyCell: {\r\n    fontFamily: \"Courier New\",\r\n    textAlign: \"right\"\r\n  }\r\n});\r\n\r\nvar moneyFormat = (value) => (Math.floor(value * 100) / 100).toLocaleString('ru-RU', {minimumFractionDigits: 2});\r\n\r\nfunction PaymentTable(props) {\r\n  const listItems = props.payments.map((item, index) => \r\n    <TableRow key={index.toString()}>\r\n      <TableCell>{index+1}.</TableCell>\r\n      <TableCell>{dateFormat(new Date(item.periodDate), \"mm.yyyy\")}</TableCell>\r\n      <TableCell className={props.classes.currencyCell}>{moneyFormat(item.currentDebt)}</TableCell>\r\n      <TableCell className={props.classes.currencyCell}>{moneyFormat(item.payment)}</TableCell>\r\n      <TableCell className={props.classes.currencyCell}>{moneyFormat(item.interest)}</TableCell>\r\n      <TableCell className={props.classes.currencyCell}>{moneyFormat(item.retirement)}</TableCell>\r\n    </TableRow>\r\n  );\r\n  return <Table>\r\n    <TableHead>\r\n      <TableRow>\r\n        <TableCell>Period</TableCell>\r\n        <TableCell>Payment date</TableCell>\r\n        <TableCell>Loan amount</TableCell>\r\n        <TableCell>Minimal payment</TableCell>\r\n        <TableCell>Interests</TableCell>\r\n        <TableCell>Debt retirement</TableCell>\r\n      </TableRow>\r\n    </TableHead>\r\n    <TableBody>\r\n      {listItems}\r\n    </TableBody>\r\n  </Table>;\r\n}\r\n\r\nexport default withStyles(styles)(PaymentTable)\r\n","import React, { Component } from 'react'\r\nimport { Grid, Typography, withStyles } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    //width: '700',\r\n  },\r\n  overallCol1: {\r\n    textAlign: 'left'\r\n  },\r\n  overallCol2: {\r\n    textAlign: 'right'\r\n  },\r\n  moneyTypography: {\r\n    fontFamily: \"Courier New\",\r\n  }\r\n});\r\n\r\nvar moneyFormat = (value) => (Math.floor(value * 100) / 100).toLocaleString('ru-RU', {minimumFractionDigits: 2});\r\n\r\nfunction OverallInfo(props) {\r\n  return <>\r\n    <table>\r\n      <tbody>\r\n        <tr>\r\n          <td className={props.classes.overallCol1}>\r\n            <Typography>Base loan : </Typography>\r\n          </td>\r\n          <td className={props.classes.overallCol2}>\r\n            <Typography className={props.classes.moneyTypography}>{moneyFormat(props.baseLoan)}</Typography>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td className={props.classes.overallCol1}>\r\n            <Typography>Mounth payment : </Typography>\r\n          </td>\r\n          <td className={props.classes.overallCol2}>\r\n            <Typography className={props.classes.moneyTypography}>{moneyFormat(props.baseMounthPayment)}</Typography>\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td className={props.classes.overallCol1}>\r\n            <Typography>Interests overall : </Typography>\r\n          </td>\r\n          <td className={props.classes.overallCol2}>\r\n            <Typography className={props.classes.moneyTypography}>{moneyFormat(props.interestsOverall)}</Typography>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    {/* <Grid container className={props.classes.root} direction=\"row\" xs='auto'>\r\n      <Grid item container direction=\"column\">\r\n        <Grid item>\r\n          <Typography>Base loan : </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Typography>Mounth payment : </Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Typography>Mounth payment : </Typography>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid item container direction=\"column\">\r\n        <Grid item>\r\n          <Typography>{props.baseLoan}</Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Typography>{props.baseMounthPayment}</Typography>\r\n        </Grid>\r\n        <Grid item>\r\n          <Typography>{props.baseMounthPayment}</Typography>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid> */}\r\n  </>\r\n}\r\n\r\nexport default withStyles(styles)(OverallInfo);\r\n","import React, { Component } from 'react'\r\nimport { Chart, SplineSeries, ValueAxis, ArgumentAxis, LineSeries, Legend } from '@devexpress/dx-react-chart-material-ui';\r\nimport { ValueScale } from '@devexpress/dx-react-chart';\r\n\r\nfunction PaymentGraph(props) {\r\n  return <Chart data={props.data} width={650} height={500}>\r\n    <ValueScale name=\"payment\" />\r\n    <ValueScale name=\"debt\" />\r\n\r\n    <ArgumentAxis showGrid={true} />\r\n    <ValueAxis name=\"Mounthly\" scaleName=\"payment\" showGrid={true} showLine showTicks />\r\n    <ValueAxis name=\"Overall\" scaleName=\"debt\" position=\"right\" showGrid={false} showLine showTicks />\r\n\r\n    <LineSeries name=\"Payment\" scaleName=\"payment\" valueField=\"payment\" argumentField=\"paymentNumber\" />\r\n    <LineSeries name=\"Interest\" scaleName=\"payment\" valueField=\"interest\" argumentField=\"paymentNumber\" />\r\n    <LineSeries name=\"Retirement\" scaleName=\"payment\" valueField=\"retirement\" argumentField=\"paymentNumber\" />\r\n    <LineSeries name=\"Debt\" scaleName=\"debt\" valueField=\"currentDebt\" argumentField=\"paymentNumber\" />\r\n    <Legend />\r\n  </Chart>\r\n}\r\n\r\nexport default PaymentGraph;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Grid, Paper, AppBar, Typography, Tabs, Tab, withStyles, CircularProgress } from '@material-ui/core';\r\nimport ParamPanel from './ParamPanel';\r\nimport PaymentTable  from './PaymentTable';\r\nimport OverallInfo from './OverallInfo';\r\nimport PaymentGraph from './PaymentGraph';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    marginTop: 16,\r\n  },\r\n  tablePaper: {\r\n    height: 700,\r\n    overflowY: 'auto',\r\n  }\r\n});\r\n\r\nfunction LoanTask(props) {\r\n  const loader = <CircularProgress />\r\n  return <Grid container spacing={16} justify=\"center\" >\r\n    <Grid item>\r\n      <Paper>\r\n        <ParamPanel \r\n          baseLoan={props.baseLoan}\r\n          onBaseLoanChange={props.onBaseLoanChange} \r\n          basePeriods={props.basePeriods}\r\n          onBasePeriodsChange={props.onBasePeriodsChange}\r\n          baseLoanRate={props.baseLoanRate}\r\n          onBaseLoanRateChange={props.onBaseLoanRateChange}\r\n          issueDate={props.issueDate}\r\n          onIssueDateChange={props.onIssueDateChange}\r\n          />\r\n      </Paper>\r\n    </Grid>\r\n    {(props.isReady \r\n      && <> <Grid item>\r\n        <Paper className={props.classes.tablePaper}>\r\n          <PaymentTable payments={props.payments}/>\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item>\r\n        <Paper className={props.classes.overallPaper}>\r\n          <OverallInfo\r\n                      baseMounthPayment={props.baseMounthPayment}\r\n                      interestsOverall={props.interestsOverall}\r\n                      baseLoan={props.baseLoan} />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid>\r\n        <Paper>\r\n          <PaymentGraph data={props.payments}/>\r\n        </Paper>\r\n      </Grid> </>\r\n      ) \r\n    || <Grid item>{loader}</Grid> }\r\n  </Grid>;\r\n}\r\n\r\nexport default withStyles(styles)(LoanTask);","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Dialog, DialogTitle, DialogContent, Button, DialogContentText, TextField, DialogActions } from '@material-ui/core';\r\n\r\nclass RenameLoanDialog extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleNameChange = this.handleNameChange.bind(this);\r\n    this.handleAccept = this.handleAccept.bind(this);\r\n    this.handleKeyPress = this.handleKeyPress.bind(this);\r\n  }\r\n\r\n  handleNameChange(e) {\r\n    this.props.onNameChanged(e.target.value);\r\n  }\r\n\r\n  handleAccept = () => {\r\n    this.props.onAccept(this.props.name);\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      this.handleAccept();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Dialog open={this.props.open} onClose={this.props.onCancel}\r\n                aria-labelledby=\"responsive-dialog-title\" onKeyPress={this.handleKeyPress}>\r\n          <DialogTitle id=\"responsive-dialog-title\">Rename current loan</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>Pleace, enter new name for this loan</DialogContentText>\r\n            <TextField autoFocus margin=\"dense\" label=\"loan name\" fullWidth value={this.props.name} onChange={this.handleNameChange}/>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.props.onCancel} color=\"primary\">Cancel</Button>\r\n            <Button onClick={this.handleAccept} color=\"primary\">Rename</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RenameLoanDialog;\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { IconButton } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\n\r\nfunction AddTab(props) {\r\n  return <IconButton>\r\n    <AddIcon {...props}/>\r\n  </IconButton>;\r\n}\r\n\r\nexport default AddTab;\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Dialog, DialogTitle, DialogContentText, DialogContent, DialogActions, Button } from '@material-ui/core';\r\n\r\nfunction ConfirmDialog(props) {\r\n  return <div>\r\n    <Dialog open={props.open} onClose={props.onCancel}>\r\n      <DialogTitle>\r\n        Confirm deletion of {props.name}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>Are you sure you want to delete {props.name} ?</DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.onCancel} color=\"primary\">Cancel</Button>\r\n        <Button onClick={props.onAccept} color=\"primary\">Delete</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  </div>\r\n}\r\n\r\nexport default ConfirmDialog;\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Grid, Tabs, Tab, withStyles, IconButton } from '@material-ui/core';\r\nimport AddTab from './AddTab';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport RenameLoanDialog from './RenameLoanDialog';\r\nimport ConfirmDialog from './ConfirmDialog';\r\n\r\nconst styles = theme => ( {\r\n  tabPanel: {\r\n    marginTop: 48\r\n  },\r\n  delButtonContainer: {\r\n    position: 'absolute',\r\n    right: theme.spacing.unit * 2,\r\n    top: 48\r\n  }\r\n});\r\n\r\nclass TabContentController extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleTabChange = this.handleTabChange.bind(this);\r\n    this.handleRenameTabClick = this.handleRenameTabClick.bind(this);\r\n    this.handleRenameTabCancel = this.handleRenameTabCancel.bind(this);\r\n    this.handleRenameTabAccept = this.handleRenameTabAccept.bind(this);\r\n    this.handleNameChange = this.handleNameChange.bind(this);\r\n    this.handleTabDoubleClick = this.handleTabDoubleClick.bind(this);\r\n    this.handleDeleteTabClicked = this.handleDeleteTabClicked.bind(this);\r\n    this.handleDeleteCancel = this.handleDeleteCancel.bind(this);\r\n    this.handleDeleteAccept = this.handleDeleteAccept.bind(this);\r\n\r\n    this.state = {\r\n      renameTab: false,\r\n      renameTabDraft: \"\",\r\n      askDelete: false\r\n    }\r\n  }\r\n\r\n  handleTabChange = (event, value) => {\r\n    const activePage = this.props.pages[this.props.activePage];\r\n    this.setState({\r\n      renameTabDraft: activePage.title\r\n    });\r\n    this.props.onTabChange(value);\r\n  }\r\n\r\n  handleRenameTabClick() {\r\n    const activePage = this.props.pages[this.props.activePage];\r\n    this.setState({\r\n      renameTab: true,\r\n      renameTabDraft: activePage.title\r\n    });\r\n  }\r\n\r\n  handleTabDoubleClick() {\r\n    const activePage = this.props.pages[this.props.activePage];\r\n    this.setState({\r\n      renameTab: true,\r\n      renameTabDraft: activePage.title\r\n    });\r\n  }\r\n\r\n  handleRenameTabCancel() {\r\n    const activePage = this.props.pages[this.props.activePage];\r\n    this.setState({\r\n      renameTab: false,\r\n      renameTabDraft: activePage.title\r\n    });\r\n  }\r\n\r\n  handleRenameTabAccept(newName) {\r\n    this.props.onRenameTab(newName);\r\n    this.setState({\r\n      renameTab: false\r\n    });\r\n  }\r\n\r\n  handleNameChange(newName) {\r\n    this.setState({\r\n      renameTabDraft: newName\r\n    });\r\n  }\r\n\r\n  handleDeleteTabClicked() {\r\n    this.setState({\r\n      askDelete: true\r\n    });\r\n  }\r\n\r\n  handleDeleteCancel() {\r\n    this.setState({\r\n      askDelete: false\r\n    });\r\n  }\r\n\r\n  handleDeleteAccept() {\r\n    this.setState({\r\n      askDelete: false\r\n    });\r\n    this.props.onDeleteTabClicked();\r\n  }\r\n\r\n  render() {\r\n    const activePage = this.props.pages[this.props.activePage];\r\n\r\n    const tabList = this.props.pagesIds.map((pageId, index) => {\r\n      return <Tab label={this.props.pages && this.props.pages[pageId] && this.props.pages[pageId].title} value={pageId} key={pageId} onDoubleClick={this.handleTabDoubleClick}/>\r\n    });\r\n\r\n    return(\r\n    <>\r\n      <Grid container direction=\"row\" className={this.props.classes.tabPanel}>\r\n        <Grid item>\r\n          <Grid container direction=\"row\">\r\n            <Grid item>\r\n              <Tabs value={this.props.activePage} onChange={this.handleTabChange}>\r\n                {tabList}\r\n              </Tabs>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item>\r\n          <AddTab onClick={this.props.onAddTabClicked}></AddTab>\r\n        </Grid>  {/* outer item */}\r\n        <Grid container direction=\"row\">\r\n          <Grid item>\r\n            <div className={this.props.classes.delButtonContainer}>\r\n              <IconButton onClick={this.handleRenameTabClick}>\r\n                <EditIcon />\r\n              </IconButton>\r\n              <IconButton onClick={this.handleDeleteTabClicked}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </div>\r\n          </Grid> {/* button item */}\r\n        </Grid> {/* button container*/}\r\n      </Grid>\r\n      <RenameLoanDialog open={this.state.renameTab}\r\n        name={this.state.renameTabDraft}\r\n        onCancel={this.handleRenameTabCancel}\r\n        onAccept={this.handleRenameTabAccept} \r\n        onNameChanged={this.handleNameChange}/>\r\n      <ConfirmDialog open={this.state.askDelete} \r\n        name={activePage ? activePage.title : \"\"} \r\n        onCancel={this.handleDeleteCancel}\r\n        onAccept={this.handleDeleteAccept}/>\r\n    </>\r\n    )\r\n  } \r\n}\r\n\r\n\r\nexport default withStyles(styles)(TabContentController);\r\n","import React, { Component } from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport { Grid, Paper, AppBar, Typography, Tabs, Tab, Zoom, Fab, withStyles, IconButton, NoSsr } from '@material-ui/core';\r\nimport LoanTask from './LoanTask';\r\nimport RenameLoanDialog from './RenameLoanDialog';\r\nimport TabContentController from './TabContentController';\r\nimport { calculateSchedule } from './loanUtils';\r\n\r\n\r\nvar objectHash = require('object-hash');\r\nvar deepEqual = require('deep-equal');\r\nvar dateFormat = require('dateformat');\r\n\r\nconst styles = theme => ( {\r\n  app: {\r\n    display: \"flex\",\r\n    flexFlow: \"column\",\r\n    height: \"100vh\"\r\n  },\r\n  taskContent: {\r\n    flex: 1,\r\n    marginTop: 16,\r\n    overflowY: 'auto',\r\n  }\r\n});\r\n\r\nfunction uniqueID(){\r\n  function chr4(){\r\n    return Math.random().toString(16).slice(-4);\r\n  }\r\n  return chr4() + chr4() +\r\n    '-' + chr4() +\r\n    '-' + chr4() +\r\n    '-' + chr4() +\r\n    '-' + chr4() + chr4() + chr4();\r\n}\r\n\r\nclass App extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.handleBaseLoanChange = this.handleBaseLoanChange.bind(this);\r\n    this.handleBasePeriodsChange = this.handleBasePeriodsChange.bind(this);\r\n    this.handleBaseLoanRateChange = this.handleBaseLoanRateChange.bind(this);\r\n    this.handleIssueDateChange = this.handleIssueDateChange.bind(this);\r\n    this.handleAddLoanTask = this.handleAddLoanTask.bind(this);\r\n    this.handleRemoveLoanTask = this.handleRemoveLoanTask.bind(this);\r\n    this.handleRenameLoan = this.handleRenameLoan.bind(this);\r\n    this.updateContent = this.updateContent.bind(this);\r\n\r\n    var pages = {};\r\n    var pagesIds = [];\r\n    var activePage = \"\";\r\n    \r\n    try {\r\n      var restoredPages = JSON.parse(localStorage.getItem(\"pages\") );\r\n      var restoredPagesIds = JSON.parse(localStorage.getItem(\"pagesIds\") );\r\n      var restoredActivePage = localStorage.getItem(\"activePage\");\r\n      pages = restoredPages || pages;\r\n      pagesIds = restoredPagesIds || pagesIds;\r\n      activePage = restoredActivePage || activePage;\r\n    } catch(e) {\r\n      console.log(\"catch while parse stored items: \" + e.what());\r\n      pages = {};\r\n      pagesIds = [];\r\n      activePage = \"\";\r\n    }\r\n\r\n    if (pages[activePage] === undefined && pagesIds.length > 0) {\r\n      activePage = pagesIds[0];\r\n    }\r\n\r\n    this.state = {\r\n      baseLoan: 1000000,\r\n      basePeriods: 1,\r\n      baseLoanRate: 0.10,\r\n      issueDate: dateFormat(new Date(), \"yyyy-mm-dd\"),\r\n      activePage: activePage || \"\",\r\n      pages: pages || {},\r\n      pagesIds: pagesIds || [],\r\n      renameLoan: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateContent();\r\n  }\r\n\r\n  handleBaseLoanChange(e) {\r\n    var pages = this.state.pages;\r\n    var activePageId = this.state.activePage;\r\n    var currentPage = pages[activePageId];\r\n\r\n    if (! isNaN(e.target.value)) {\r\n      currentPage[\"baseLoan\"] = e.target.value;\r\n    }\r\n    currentPage.isReady = false;\r\n    pages[activePageId] = currentPage;\r\n    this.setState({\r\n      pages: pages\r\n    });\r\n\r\n    this.updateContent();\r\n  }\r\n\r\n  handleBasePeriodsChange(e) {\r\n    var pages = this.state.pages;\r\n    var activePageId = this.state.activePage;\r\n    var currentPage = pages[activePageId];\r\n\r\n    if (! isNaN(e.target.value)) {\r\n      currentPage[\"basePeriods\"] = e.target.value;\r\n    }\r\n    currentPage.isReady = false;\r\n\r\n    pages[activePageId] = currentPage;\r\n    this.setState({\r\n      pages: pages\r\n    });\r\n\r\n    this.updateContent();\r\n  }\r\n\r\n  handleBaseLoanRateChange(e) {\r\n    var pages = this.state.pages;\r\n    var activePageId = this.state.activePage;\r\n    var currentPage = pages[activePageId];\r\n\r\n    if (! isNaN(e.target.value)) {\r\n      currentPage[\"baseLoanRate\"] = e.target.value;\r\n    }\r\n    currentPage.isReady = false;\r\n\r\n    pages[activePageId] = currentPage;\r\n    this.setState({\r\n      pages: pages\r\n    });\r\n\r\n    this.updateContent();\r\n  }\r\n\r\n  handleIssueDateChange(e) {\r\n    var pages = this.state.pages;\r\n    var activePageId = this.state.activePage;\r\n    var currentPage = pages[activePageId];\r\n\r\n    currentPage[\"issueDate\"] = e.target.value;\r\n    currentPage.isReady = false;\r\n\r\n    pages[activePageId] = currentPage;\r\n    this.setState({\r\n      pages: pages\r\n    });\r\n\r\n    this.updateContent();\r\n  }\r\n\r\n  handleAddLoanTask() {\r\n    var pages = this.state.pages;\r\n    var pagesIds = this.state.pagesIds;\r\n\r\n    const newId = uniqueID();\r\n    pagesIds.push(newId);\r\n    pages[newId] = {title: \"new loan\", id: newId,\r\n      baseLoanRate: this.state.baseLoanRate,\r\n      issueDate: this.state.issueDate,\r\n      baseLoan: this.state.baseLoan,\r\n      basePeriods: this.state.basePeriods,\r\n      isReady: false,\r\n    };\r\n    this.setState({\r\n      pages: pages,\r\n      pagesIds: pagesIds,\r\n      activePage: newId,\r\n    });\r\n\r\n    this.updateContent();\r\n  }\r\n\r\n  handleRemoveLoanTask() {\r\n    var pages = this.state.pages;\r\n    var pagesIds = this.state.pagesIds;\r\n    var activePageId = this.state.activePage;\r\n    var activeIndex = pagesIds.indexOf(activePageId);\r\n    var newPagesIds = pagesIds.filter((id) => id != activePageId);\r\n    pages[activePageId] = undefined;\r\n\r\n    activeIndex = activeIndex < 0 ? 0 : \r\n    activeIndex > newPagesIds.length - 1 ? newPagesIds.length - 1 : activeIndex;\r\n\r\n    this.setState({\r\n      pages: pages,\r\n      pagesIds: newPagesIds,\r\n      activePage: newPagesIds[activeIndex]\r\n    });\r\n\r\n    this.updateContent();\r\n  }\r\n\r\n  handleRenameLoan(newName) {\r\n    var activePage = this.state.activePage;\r\n    var pages = this.state.pages;\r\n    var page = pages[activePage];\r\n    page.title = newName;\r\n\r\n    pages[activePage] = page;\r\n    this.setState({\r\n      pages: pages,\r\n    });\r\n    \r\n    this.updateContent();\r\n  }\r\n\r\n  handleTabChange = (value) => {\r\n    this.setState({\r\n      activePage: value,\r\n    });\r\n\r\n    this.updateContent();\r\n  }\r\n\r\n  preparePayments(loanDesc) {\r\n    //const loanKey = objectHash(loanDesc);\r\n    //const loanDeskKey = loanKey + '-desc';\r\n    //var storedLoanDesc = JSON.parse(sessionStorage.getItem(loanDeskKey) );\r\n\r\n    var payments;\r\n    //if (storedLoanDesc && deepEqual(loanDesc, storedLoanDesc)) {\r\n      //payments = JSON.parse(sessionStorage.getItem(loanKey));\r\n    //}\r\n\r\n    //if (!payments) {\r\n      payments = calculateSchedule(loanDesc);\r\n      //sessionStorage.setItem(loanDeskKey, JSON.stringify(loanDesc));\r\n      //sessionStorage.setItem(loanKey, JSON.stringify(payments));\r\n    //}\r\n    return payments;\r\n  }\r\n\r\n  updateContent() {\r\n    this.setState((state, props) => {\r\n      var pages = state.pages;\r\n      var pagesIds = state.pagesIds;\r\n      var activePageId = state.activePage;\r\n      var currentPage = pages[activePageId];\r\n\r\n      if (currentPage === undefined) {\r\n        return;\r\n      }\r\n\r\n      var pagesStr = JSON.stringify(pages);\r\n      localStorage.setItem(\"pages\", pagesStr);\r\n      var idsStr = JSON.stringify(pagesIds);\r\n      localStorage.setItem(\"pagesIds\", idsStr);\r\n      localStorage.setItem(\"activePage\", activePageId);\r\n\r\n      const loanDesc = {\r\n        title: currentPage ? currentPage.title : 'New loan', \r\n        baseLoanRate: currentPage ? currentPage.baseLoanRate : state.baseLoanRate, \r\n        issueDate: currentPage ? currentPage.issueDate : state.issueDate,\r\n        baseLoan: currentPage ? currentPage.baseLoan : state.baseLoan,\r\n        basePeriods: currentPage ? currentPage.basePeriods : state.basePeriods\r\n      };\r\n\r\n      var calcResults = this.preparePayments(loanDesc);\r\n      // paymentsPromise.then((function() {\r\n      //   const localPageId = activePageId;\r\n      //   return function(payments) {\r\n      //     this.setState((state, props) => {\r\n      //       var currentPage = state.pages[localPageId];\r\n      \r\n      //       currentPage.isReady = true;\r\n      //       currentPage.payments = payments;\r\n      //       pages[activePageId] = currentPage;\r\n      //       return {\r\n      //         pages: pages\r\n      //       }\r\n      //     });\r\n      //   }\r\n      // })().bind(this), function() {\r\n      //   console.log(\"Payment promise rejected\");\r\n      // });\r\n      currentPage.payments = calcResults.payments;\r\n      currentPage.baseMounthPayment = calcResults.baseMounthPayment;\r\n      currentPage.interestsOverall = calcResults.interestsOverall;\r\n      currentPage.isReady = true;\r\n      pages[activePageId] = currentPage;\r\n      return {\r\n        pages: pages\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    var pages = this.state.pages;\r\n    var pagesIds = this.state.pagesIds;\r\n    var activePageId = this.state.activePage;\r\n    var currentPage = pages[activePageId];\r\n\r\n    const payments = currentPage && currentPage.payments;\r\n    const contentIsReady = currentPage && currentPage.isReady;\r\n    \r\n    const content = currentPage && <div className={this.props.classes.taskContent}>\r\n                            <LoanTask\r\n                              baseLoan={currentPage.baseLoan} \r\n                              onBaseLoanChange={this.handleBaseLoanChange}\r\n                              basePeriods={currentPage.basePeriods}\r\n                              onBasePeriodsChange={this.handleBasePeriodsChange}\r\n                              baseLoanRate={currentPage.baseLoanRate}\r\n                              onBaseLoanRateChange={this.handleBaseLoanRateChange}\r\n                              issueDate={currentPage.issueDate}\r\n                              onIssueDateChange={this.handleIssueDateChange}\r\n                              isReady={contentIsReady} payments={payments}\r\n                              baseMounthPayment={currentPage.baseMounthPayment}\r\n                              interestsOverall={currentPage.interestsOverall} /> \r\n                          </div>;\r\n    \r\n    return (\r\n        <div className={this.props.classes.app}>\r\n          <AppBar color=\"primary\">\r\n            <Typography variant=\"h3\" color=\"textPrimary\" align=\"center\">\r\n              Loan calculator\r\n            </Typography>\r\n          </AppBar>\r\n          <TabContentController pagesIds={this.state.pagesIds}\r\n            pages={this.state.pages} \r\n            activePage={this.state.activePage}\r\n            onTabChange={this.handleTabChange}\r\n            onRenameTab={this.handleRenameLoan} \r\n            onAddTabClicked={this.handleAddLoanTask}\r\n            onDeleteTabClicked={this.handleRemoveLoanTask} />\r\n          {content}\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(App);\r\n","export function calculateSchedule(loanParams) {\r\n    var payments = [];\r\n    const currentYearRate = parseFloat(loanParams.baseLoanRate);\r\n    var currentDebt = parseFloat(loanParams.baseLoan);\r\n    var restPeriods = parseFloat(loanParams.basePeriods) * 12;\r\n    var iteration = 200;\r\n    console.assert(loanParams.issueDate, \"issue date was not specified\");\r\n    const issueDate = loanParams.issueDate || new Date().toDateString();\r\n    var currentYear = new Date(issueDate).getYear() + 1900;\r\n    var currentMonth = new Date(issueDate).getMonth();\r\n\r\n    var currentMounthRateRought = currentYearRate / 12.0;\r\n    var currentTempRateK = Math.pow((1.0 + currentMounthRateRought), restPeriods);\r\n    var currentK = currentMounthRateRought * currentTempRateK / (currentTempRateK - 1.0);\r\n    var currentMounthPayment = currentDebt * currentK;\r\n    const baseMounthPayment = currentMounthPayment;\r\n    var currentPaymentNumber = 1;\r\n\r\n    var dayOfYears = [366, 365, 365, 365];\r\n    var getDaysInYear = (year) => dayOfYears[year % 4];\r\n    var getDaysInMonth = function(year, month) {\r\n      // day = 0 - returns amount of days in previous mounth\r\n      return new Date(year, month+1, 0).getDate();\r\n    };\r\n    var interestsOverall = 0.0;\r\n\r\n    while (currentDebt >= 0.01 && iteration-- > 0) {\r\n      const daysInYear = getDaysInYear(currentYear);\r\n      const daysInMonth = getDaysInMonth(currentYear, currentMonth);\r\n      const monthRate = currentYearRate / daysInYear * daysInMonth;\r\n      const interest = currentDebt * monthRate;\r\n      const paymentDate = (currentMonth + 1) % 12;\r\n      var payment = currentMounthPayment;\r\n      var retirement = payment - interest;\r\n      if (currentDebt - retirement < 300) {\r\n        payment = interest + currentDebt;\r\n        retirement = currentDebt;\r\n      }\r\n      // console.log(payments.length + \". \" \r\n      //   + currentDebt + \": \" \r\n      //   + interest + \" + \" \r\n      //   + retirement + \" = \"\r\n      //   + payment);\r\n      payments.push({\r\n        currentDebt: parseFloat(currentDebt),\r\n        periodDate: currentYear + \"-\" + (paymentDate+1), // [0 .. 11] => [1 .. 12]\r\n        paymentNumber: currentPaymentNumber,\r\n        payment: payment,\r\n        interest: interest,\r\n        retirement: retirement\r\n      });\r\n      interestsOverall += interest;\r\n      \r\n      currentPaymentNumber += 1;\r\n      currentMonth += 1;\r\n      if (currentMonth >= 12) {\r\n        currentMonth = currentMonth % 12;\r\n        currentYear += 1;\r\n      }\r\n      currentDebt -= retirement;\r\n      restPeriods -= 1;\r\n    }\r\n    return {\r\n      payments : payments,\r\n      baseLoan : loanParams.baseLoan,\r\n      baseMounthPayment : baseMounthPayment,\r\n      interestsOverall : interestsOverall,\r\n\r\n    };\r\n  }","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}